<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dance Choreography App</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="index.js"></script>
</head>
<body>
    <div id="app">
        <header>
            <h1>Dance practice</h1>
            <h2>40代からの自己表現</h2>
            <h2>Shall we dance?</h2>
            <p>一緒に踊りませんか？踊るって楽しいよ🎵</p>
        </header>
        <div id="glossary">
            <h2>Dance Glossary</h2>
            <div class="videoItemsContainer">
            <div class="videoItem">
                <button onclick="toggleDescription('houseDance')">House Dance</button>
                <p id="houseDance" class="description" style="display:none;">
                    House Danceは、1980年代にニューヨークのクラブシーンで生まれたダンススタイルで、ハウスミュージックに合わせて踊られます。SAMさんが踊っているのもメインはハウスになります🎵高校の時はクラブに夜通しいってました🎶
                </p>
            </div>
            <div class="videoItem">
                <button onclick="toggleDescription('hiphopDance')">Hiphop Dance</button>
                <p id="hiphopDance" class="description" style="display:none;">
                    Hiphop Danceは、ヒップホップは、ストリートダンスの中で最もポピュラーなものの一つ。
                    「アップ」と「ダウン」でリズムをとるのが特徴です。
                    「ダウン」では、オンカウントに合わせ膝を曲げ、身体を沈めるようにしてリズムをとっていきます。
                    対して「アップ」では、ダウンと反対のリズムで、エンカウントで膝を伸ばす形でリズムを取っていきます。
                </p>
            </div>
            <div class="videoItem">
                <button onclick="toggleDescription('popDance')">Pop Dance</button>
                <p id="popDance" class="description" style="display:none;">
                    Pop Danceは、1980年代にニューヨークのクラブシーンで生まれたダンススタイルで、ハウスミュージックに合わせて踊られます。
                </p>
            </div>
            <div class="videoItem">
                <button onclick="toggleDescription('Breaking')">Breaking Dance</button>
                <p id="Breaking" class="description" style="display:none;">
                    一般的に「ブレイクダンス」と呼ばれることが多いですが、BREAKING（ブレイキング）が正式な名前で、BREAKIN'と呼ぶ人も多いです。
                    逆立ちで止まったり、頭で回ったりとダイナミックな動きが特徴で、エントリー、フットワーク、パワームーブ、フリーズなどの動きがあります。
                    1970年代にニューヨークのサウスブロンクス地区のアフリカ系アメリカ人やラテンアメリカ人の若者たちによって発展しました。
                </p>
            </div>
            <div class="videoItem">
                <button onclick="toggleDescription('jazzDance')">Jazz Dance</button>
                <p id="jazzDance" class="description" style="display:none;">
                    ジャズダンスは、主に舞台、映画、ミュージカルなどで踊られるダンスのことを指します。
                    テーマパークダンサーが踊ってるのも、ほとんどジャズダンスです。
                    体のボディコントロールやポジショニング、ターンなどバレエが基礎であることが特徴です。また、ジャズダンスといっても、クラブジャズ、ストリートジャズ、ジャズファンク、スタイルジャズなど様々な種類があります。
                    1920年頃にアメリカで演奏されるようになった「ジャズに合わせて体を動かしていたもの」がジャズダンスの起源とされています。
                </p>
            </div>
            <div class="videoItem">
                <button onclick="toggleDescription('tapDance')">Tap Dance</button>
                <p id="tapDance" class="description" style="display:none;">
                    Tap Danceは,金属がついた靴で音を出しながら踊るダンスが特徴的です。
                    かなり特徴的なダンスのため、知っている方も多いでしょう。
                    黒人奴隷が楽器以外のものでもリズムやムードを表現する手段として足を踏み鳴らす行為をしていたところから、タップダンスが生まれたとされています。
                    現在では、リズムタップやミュージカルタップなど、さまざまな種類のタップダンスが生まれており、幅広く認知されています。
                    日本では、ビートたけしさんが映画内でタップダンスを踊っているところが話題になりました。
                </p>
            </div>
            <div class="videoItem">
                <button onclick="toggleDescription('contenpolaryDance')">contenpolary Dance</button>
                <p id="contenpolaryDance" class="description" style="display:none;">
                    contenpolary Danceは、1980年代前半にフランスで生まれたダンスです。
                    バレエなどとは異なり、音楽や踊りなどに制限のない特徴があります。
                    既存のダンスではないものを指すため、区別が難しく一目見ても理解に苦しむ作品が多いです。
                    日本では、芸能人の森山未來さんがコンテンポラリーダンスを踊っていると言われています。
                </p>
            </div>
        </div>
        <h2>Upload Your Dance Video</h2>
        <!-- <div class="upload-container"> -->
            <div id="videosContainer"></div>
            <!-- <div class="videosContainer"> -->

            <input type="file" id="videoFile" accept="video/*">
            <button onclick="uploadVideo()">Upload Video</button>
          </div>          
        <script src="index.js"></script>
        <main>
            <h2>ウォーミングアップステップ</h2>
            <div class="dance-move" draggable="true"><p></p> 
                <video id="videoStep1" width="320" height="240" controls>
                  <source src="https://firebasestorage.googleapis.com/v0/b/dance-a41fe.appspot.com/o/videos%2FRPReplay_Final1710670492.MOV?alt=media&token=e3f45baf-27be-43cf-b939-58ec86e3af7b" type="video/mp4">
                  Your browser does not support the video tag.
                </video>
              </div>
                <!-- <div id="choreography-editor"> -->
                    </ul>
                </div>
                  <div id="choreography-editor">
                    <div class="dance-move" draggable="true"><p>step1 バウンズ</p> 
                      <video id="videoStep1" width="320" height="240" controls>
                        <source src="https://firebasestorage.googleapis.com/v0/b/dance-a41fe.appspot.com/o/videos%2F1.MOV?alt=media&token=487ef63e-9d71-434b-9d96-b9dbedbb0c3d" type="video/mp4">
                        Your browser does not support the video tag.
                      </video>
                      <ul class="tags">
                        <li>House Dance</li>
                        <li>Beginner</li>
                    </ul>
                    </div>
                    <div class="dance-move" draggable="true"><p>Step 2 トゥーピポッド</p>
                        <video id="videoStep2" width="320" height="240" controls>
                          <source src="https://firebasestorage.googleapis.com/v0/b/dance-a41fe.appspot.com/o/videos%2F2.MOV?alt=media&token=65ee2165-e038-4f12-9222-1df49a317f39" type="video/mp4">
                          Your browser does not support the video tag.
                        </video>
                        <ul class="tags">
                            <li>House Dance</li>
                            <li>Beginner</li>
                        </ul>
                      </div>
                      <div class="dance-move" draggable="true"><p>step 3 ヒールピポッド</p>
                        <video id="videoStep3" width="320" height="240" controls>
                          <source src="https://firebasestorage.googleapis.com/v0/b/dance-a41fe.appspot.com/o/videos%2F3.MOV?alt=media&token=39079722-7b1d-4cfc-9d25-f2ebde02374a" type="video/mp4">
                          Your browser does not support the video tag.
                        </video>
                        <ul class="tags">
                            <li>House Dance</li>
                            <li>Beginner</li>
                        </ul>
                      </div>
                      <div class="dance-move" draggable="true"><p>Step 4 サイドステップ</p>
                        <video id="videoStep1" width="320" height="240" controls>
                          <source src="https://firebasestorage.googleapis.com/v0/b/dance-a41fe.appspot.com/o/videos%2F4.MOV?alt=media&token=52692c33-5d4c-4308-b980-d4575dc14f97" type="video/mp4">
                          Your browser does not support the video tag.
                        </video>
                        <ul class="tags">
                            <li>House Dance</li>
                            <li>Beginner</li>
                        </ul>
                      </div>
                      <div class="dance-move" draggable="true"><p>Step 5 ノック</p>
                        <video id="videoStep1" width="320" height="240" controls>
                          <source src="https://firebasestorage.googleapis.com/v0/b/dance-a41fe.appspot.com/o/videos%2F5.MOV?alt=media&token=277bf0c0-a3f1-4b2b-82d1-df2b3fe1abbc" type="video/mp4">
                          Your browser does not support the video tag.
                        </video>
                        <ul class="tags">
                            <li>House Dance</li>
                            <li>Beginner</li>
                        </ul>
                      </div>
                      <div class="dance-move" draggable="true"><p>Step 6 スライド</p>
                        <video id="videoStep1" width="320" height="240" controls>
                          <source src="https://firebasestorage.googleapis.com/v0/b/dance-a41fe.appspot.com/o/videos%2F6.MOV?alt=media&token=e149e50b-c28f-4272-8ecf-2970695c7f1a" type="video/mp4">
                          Your browser does not support the video tag.
                        </video>
                        <ul class="tags">
                            <li>House Dance</li>
                            <li>Beginner</li>
                        </ul>
                      </div>
                  </div>
            </div>
        </div>      
        <script type="module">
        import firebaseConfig from "./firebaseAPIkey.js";
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js';import { getStorage, ref as storageRef, uploadBytes, getDownloadURL } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-storage.js';
        import { getDatabase, ref as databaseRef, set, push, onValue } from 'https://www.gstatic.com/firebasejs/9.6.10/firebase-database.js';
        // / Firebaseアプリの初期化
        const app = initializeApp(firebaseConfig);
        // Storageサービスの取得
        const storage = getStorage(app);
        // Realtime Databaseサービスの取得
        const db = getDatabase(app);
        // 動画一覧の表示
        function displayVideos() {
        const videosRef = databaseRef(db, 'videos');
        onValue(videosRef, (snapshot) => {
        const videosContainer = document.getElementById('videosContainer');
        videosContainer.innerHTML = ''; // コンテナをクリア
        snapshot.forEach((childSnapshot) => {
        const videoData = childSnapshot.val();
        displayUploadedVideo(videoData.url); // 各動画を表示
        });
    });
}
        document.addEventListener('DOMContentLoaded', displayVideos);

        // アップロードされた動画を表示する関数
function displayUploadedVideo(url) {
    // 要素を作成
    const videoItem = document.createElement('div');
    videoItem.classList.add('videoItem');
    videoItem.innerHTML = `
        <div class="dance-move" draggable="true">
            <p>アップロードした動画</p>
            <video width="320" height="240" controls>
                <source src="${url}" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
    `;
    // 指定したコンテナ（idが'videosContainer'のdiv）に動画を追加
    document.getElementById('videosContainer').appendChild(videoItem);
}
        </script>
         <script>
        // ダンス説明の表示/非表示の切り替え
        function toggleDescription(termId) {
        var description = document.getElementById(termId);
        description.style.display = description.style.display === "none" ? "block" : "none";
        }
        </script>
</body>
<footer>
    <h2>管理者プロフィール</h2>
    <p>名前: 鈴木円香</p>
    <img src="./sam.jpeg" alt="作者の写真" class="footer-photo">
    <p>ダンス歴: 10年</p>
    <p>高校1年の時に、衝撃的にハウスダンスと出会いスタジオに通い始めチームを結成</p>
    <p>その半年後にダンス大会で特別賞受賞</p>
    <p>SAMさんが大好き❤️</p>
</footer>
</html>
